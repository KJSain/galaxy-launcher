language: python
sudo: required
services:
  - docker
matrix:
  include:
    - python: 2.7
      env:
        TOX_ENV: py27-lint
    #- python: 2.7
    #  env:
    #    TOX_ENV: playbook
    #    test_hostname: centos-7
    #    privileged: True
    #- python: 2.7
    #  env:
    #    TOX_ENV: playbook
    #    test_hostname: centos-7
    #    privileged: False
    - python: 2.7
      env:
        TOX_ENV: playbook
        test_hostname: ubuntu-16.04
        privileged: True
        DEFAULT_REMOTE_TMP: /tmp/.ansible
        ANSIBLE_REMOTE_TMP: /tmp/.ansible
        ANSIBLE_LOCAL_TMP: /tmp/.ansible
    - python: 2.7
      env:
        TOX_ENV: playbook
        test_hostname: ubuntu-16.04
        privileged: False
        DEFAULT_REMOTE_TMP: /tmp/.ansible
        ANSIBLE_REMOTE_TMP: /tmp/.ansible
        ANSIBLE_LOCAL_TMP: /tmp/.ansible
# Submodules required for integration testing with vagrant only, which is not supported by travis.
git:
  submodules: false

install:
  - pip install tox

script:
  - tox -e $TOX_ENV

# Keep inboxes nice and clean.
notifications:
  email: false
